<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/uneweb.png">
    <title>Ejemplo09 XML</title>
</head>
<body>
    <script>
        // 1. Definición de los datos en formato XML (como una cadena de texto)
        const xmlData = `
            <estudiantes>
                <estudiante>
                    <id>1</id>
                    <nombre>ANA</nombre>
                    <apellido>VASQUEZ</apellido>
                    <edad>60</edad>
                    <sexo>F</sexo>
                    <estatura>1.65</estatura>
                    <peso>65</peso>
                </estudiante>
                <estudiante>
                    <id>2</id>
                    <nombre>YOLANDA</nombre>
                    <apellido>TORTOZA</apellido>
                    <edad>45</edad>
                    <sexo>F</sexo>
                    <estatura>1.69</estatura>
                    <peso>57</peso>
                </estudiante>
                <estudiante>
                    <id>3</id>
                    <nombre>NELLY</nombre>
                    <apellido>CONTRERAS</apellido>
                    <edad>56</edad>
                    <sexo>F</sexo>
                    <estatura>1.68</estatura>
                    <peso>60</peso>
                </estudiante>
            </estudiantes>
        `;

        // 2. Parsear la cadena XML para obtener un objeto Document (XML DOM)
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlData, "text/xml");

        // *************** Lógica de Acceso y Lectura de Datos ***************

        // 3. Obtener todos los nodos de 'estudiante'
        const estudiantesXML = xmlDoc.getElementsByTagName('estudiante');

        // El objeto estudiantesXML es una NodeList (similar a un array de nodos)
        console.log(estudiantesXML);

        // 4. Iterar sobre los nodos y acceder a la información
        for (let i = 0; i < estudiantesXML.length; i++) {
            const estudiante = estudiantesXML[i];
            
            // Acceder a los elementos hijos de cada 'estudiante' y obtener su texto
            const id = estudiante.getElementsByTagName('id')[0].textContent;
            const nombre = estudiante.getElementsByTagName('nombre')[0].textContent;
            const apellido = estudiante.getElementsByTagName('apellido')[0].textContent;

            // Mostrar los datos en la consola
            console.log(id, nombre, apellido);
            console.log('---');
        }
    </script>
</body>
</html>